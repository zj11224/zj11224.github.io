<!DOCTYPE html>
<html>
        <head>
        <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1,user-scalable=no" />
        <meta charset="utf-8">
        <title>VMware Tools问题（共享复制/文件拖拽） | ZJ Blog</title>
        <link rel="stylesheet" href="https://zj11224.github.io/styles/main.css">
        <link rel="stylesheet" href="https://at.alicdn.com/t/font_1306644_jwtuc2zzbrd.css">
        <link href="https://cdn.bootcss.com/animate.css/3.7.2/animate.min.css" rel="stylesheet">
         <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
        <script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
         <script src="https://cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js"></script>
         <script >hljs.initHighlightingOnLoad();</script>

    </head>
    <body>
              <header class="header mdui-m-b-5">      
            <div class="container  ">
                <div class="index-title animated fadeInDown mdui-text-center mdui-text-color-white mdui-m-b-2" style="animation-delay: 0.2s"><a href="https://zj11224.github.io">ZJ Blog</a></div>
                <div class="mdui-text-color-white animated fadeInDown mdui-text-center  mdui-m-b-3" style="animation-delay: 0.4s">温故而知新</div>
           
            <nav id="nav" class="mdui-text-center animated fadeInDown" style="animation-delay: 0.6s">
                   
                            <li><a href="/">首页</a>
                                <span class="nav-style top"></span>
                                <span class="nav-style bottom"></span>
                                <span class="nav-style left"></span>
                                <span class="nav-style right"></span>
                                </li>
                    
                            <li><a href="/archives">归档</a>
                                <span class="nav-style top"></span>
                                <span class="nav-style bottom"></span>
                                <span class="nav-style left"></span>
                                <span class="nav-style right"></span>
                                </li>
                    
                            <li><a href="/tags">标签</a>
                                <span class="nav-style top"></span>
                                <span class="nav-style bottom"></span>
                                <span class="nav-style left"></span>
                                <span class="nav-style right"></span>
                                </li>
                    
                            <li><a href="/post/about">关于</a>
                                <span class="nav-style top"></span>
                                <span class="nav-style bottom"></span>
                                <span class="nav-style left"></span>
                                <span class="nav-style right"></span>
                                </li>
                    
                  </nav>
                </div>
        </header>
        <div class="mdui-container ">
                <div class="mdui-row">
                        <div class="mdui-col-md-8 mdui-col-offset-md-2 ">
                                <article class="mdui-p-a-2 post animated fadeIn" style="animation-delay: 0.8s;animation-duration: 2s">
                                    <div class="post-title  mdui-m-b-1">VMware Tools问题（共享复制/文件拖拽）</div>
                                    <div class="mdui-typo-body-2 mdui-m-b-2" datetime="2022-01-18 00:00:00">2022-01-18 / 4 min read</div>
                                    <div class="mdui-m-b-2 mdui-typo post-neirong"><h3 id="前言"><strong>前言</strong></h3>
<p>本想解决虚拟机和本机间拖拽文件、文本复制粘贴公用，但是搞了一下午都没搞成功。</p>
<p>这里把我找到的一些方法写出来，应该能解决大部分人的问题。</p>
<p>若实在没法解决，也有一个共享文件夹的备用方案。</p>
<h3 id="开始"><strong>开始</strong></h3>
<h4 id="一-安装vmware-tools"><strong>一、安装VMware Tools</strong></h4>
<h5 id="1-使用命令行下载官方推荐"><strong>1、使用命令行下载（官方推荐）</strong></h5>
<p>执行下面三行命令即可</p>
<pre><code>sudo apt-get autoremove open-vm-tools
sudo apt-get install open-vm-tools
sudo apt-get install open-vm-tools-desktop

reboot
</code></pre>
<h5 id="2-使用自带的vmware-tools文件"><strong>2、使用自带的VMware Tools文件</strong></h5>
<p>运行ubuntu，点击虚拟机，显示如下：</p>
<figure data-type="image" tabindex="1"><img src="https://zj11224.github.io/post-images/2022.01.18_VMwareTools%E9%97%AE%E9%A2%98/1.1.1.vmtools%E7%81%B0%E8%89%B2.png" alt="" loading="lazy"></figure>
<p>部分人可能安装/重新安装VMware Tools是灰色的。</p>
<p>解决方法：</p>
<p>先关机，虚拟机 -&gt; 设置</p>
<p>将驱动器都设置为自动获取</p>
<figure data-type="image" tabindex="2"><img src="https://zj11224.github.io/post-images/2022.01.18_VMwareTools%E9%97%AE%E9%A2%98/1.1.3.%E9%A9%B1%E5%8A%A8%E5%99%A8%E8%AE%BE%E7%BD%AE.png" alt="" loading="lazy"></figure>
<p>也可以在驱动器上挂载VMware Workstation文件夹下的linux.iso/windows.iso(对应系统)</p>
<figure data-type="image" tabindex="3"><img src="https://zj11224.github.io/post-images/2022.01.18_VMwareTools%E9%97%AE%E9%A2%98/1.1.4.%E9%A9%B1%E5%8A%A8%E5%99%A8%E8%AE%BE%E7%BD%AE.png" alt="" loading="lazy"></figure>
<p>开机后就会自动获取了，显示如下：</p>
<figure data-type="image" tabindex="4"><img src="https://zj11224.github.io/post-images/2022.01.18_VMwareTools%E9%97%AE%E9%A2%98/1.1.2.vmtools%E6%98%BE%E7%A4%BA%E6%AD%A3%E5%B8%B8.png" alt="" loading="lazy"></figure>
<p>点击下载</p>
<figure data-type="image" tabindex="5"><img src="https://zj11224.github.io/post-images/2022.01.18_VMwareTools%E9%97%AE%E9%A2%98/1.2.1.vmtools%E5%85%89%E7%9B%98.png" alt="" loading="lazy"></figure>
<p>压缩文件提取</p>
<figure data-type="image" tabindex="6"><img src="https://zj11224.github.io/post-images/2022.01.18_VMwareTools%E9%97%AE%E9%A2%98/1.2.2.vmtools%E5%8E%8B%E7%BC%A9%E5%8C%85%E6%8F%90%E5%8F%96.png" alt="" loading="lazy"></figure>
<p>然后在提取出来的文件夹里打开终端，执行下面命令</p>
<pre><code>sudo ./vmware-install.pl
sudo apt-get update
reboot
</code></pre>
<p>安装完成</p>
<h4 id="二-可能存在的问题"><strong>二、可能存在的问题</strong></h4>
<p>我是为了能实现文件拖拽和复制共享才需要VMwareTools，但是尝试完上面两种安装方法都无法拖拽问题，下面是我百度到的一些解决方法，对我仍然无效，大家可以试一下。</p>
<h5 id="1-vmwaretools原有文件没有清理干净">1、VMwareTools<strong>原有文件没有清理干净</strong></h5>
<p>将VMwareTools清理干净，再次下载</p>
<pre><code>sudo vmware-uninstall-tools.pl
sudo apt-get remove open-vm-tools
sudo apt-get remove --auto-remove open-vm-tools
sudo apt-get purge open-vm-tools
</code></pre>
<p><strong>2、VMwareTools有bug，下载补丁</strong></p>
<pre><code>git clone https://github.com/rasa/vmware-tools-patches.git
</code></pre>
<p><strong>3、Mware拖拽文件选项没选</strong></p>
<p>虚拟机 -&gt; 设置 -&gt; 选项 -&gt; 客户机隔离 -&gt; 启用拖放+复制粘贴，显示如下：</p>
<figure data-type="image" tabindex="7"><img src="https://zj11224.github.io/post-images/2022.01.18_VMwareTools%E9%97%AE%E9%A2%98/2.1.%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%9D%83%E9%99%90.png" alt="" loading="lazy"></figure>
<h5 id="4-vmware增强型键盘"><strong>4、VMware增强型键盘</strong></h5>
<p>虚拟机 -&gt; 设置 -&gt; 选项 -&gt; 常规 -&gt; 增强型键盘启用，显示如下：</p>
<figure data-type="image" tabindex="8"><img src="https://zj11224.github.io/post-images/2022.01.18_VMwareTools%E9%97%AE%E9%A2%98/2.2.%E9%94%AE%E7%9B%98%E8%AE%BE%E7%BD%AE.png" alt="" loading="lazy"></figure>
<h5 id="5-ubuntu进程未开启"><strong>5、ubuntu进程未开启</strong></h5>
<pre><code>/usr/bin/vmware-user
</code></pre>
<p>以上就是我能找到关于文件拖拽功能的解决办法，基本上每种都有人回复有效，也都有人回复没用。</p>
<p>都可以试一下</p>
<h4 id="三-备用方案"><strong>三、备用方案</strong></h4>
<p>虚拟机 -&gt; 设置 -&gt; 选项 -&gt; 常规 -&gt; 启用共享文件夹，设置文件路径，显示如下：</p>
<figure data-type="image" tabindex="9"><img src="https://zj11224.github.io/post-images/2022.01.18_VMwareTools%E9%97%AE%E9%A2%98/3.1.%E5%90%AF%E7%94%A8%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9.png" alt="" loading="lazy"></figure>
<p>在本机找到共享文件 -&gt; 属性 -&gt; 共享, 显示如下：</p>
<figure data-type="image" tabindex="10"><img src="https://zj11224.github.io/post-images/2022.01.18_VMwareTools%E9%97%AE%E9%A2%98/3.2.%E6%9C%AC%E6%9C%BA%E5%85%B1%E4%BA%AB%E8%AE%BE%E7%BD%AE.png" alt="" loading="lazy"></figure>
<p>共享文件夹就在/mnt/hgfs目录下，</p>
<p>若没有再次重装VMwareTools（参考上面）<br>
或者运行下面命令</p>
<pre><code class="language-shell"># 确认是否配置成功，有输出共享文件夹名，则成功
vmware-hgfsclient
# 如果之前没有命令包则先执行sudo apt-get install open-vm-tools
sudo vmhgfs-fuse .host:/ /mnt/hgfs -o nonempty -o allow_other
</code></pre>
<p>接下来就能看到了</p>
<figure data-type="image" tabindex="11"><img src="https://zj11224.github.io/post-images/2022.01.18_VMwareTools%E9%97%AE%E9%A2%98/3.3.%E6%88%90%E5%8A%9F%E5%85%B1%E4%BA%AB.png" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="12"><img src="https://zj11224.github.io/post-images/2022.01.18_VMwareTools%E9%97%AE%E9%A2%98/3.4.%E6%88%90%E5%8A%9F%E5%85%B1%E4%BA%AB.png" alt="" loading="lazy"></figure>
<p>至此，文章结束。</p>
<p><strong>再会！！！</strong></p>
<p>2022.04.04</p>
<p>找到复制粘贴的解决方案：</p>
<p>就是先执行上面的1、2</p>
<p>再执行下面的两行命令</p>
<pre><code>sudo apt-get install open-vm-tools
sudo apt-get install open-vm-tools-desktop
</code></pre>
<p>最后执行5</p>
<p>备注1：github可能要更改hosts文件才能连上、后面需要把vmware-user添加到自启动软件。</p>
<p>备注2：主机和虚拟机版本差别过大的话，文件拖拽可能会蓝屏，但是复制粘贴是没问题的。</p>
<p><strong>该方法多次重开机后，开始无法拖拽！！！</strong></p>
<p>最后Ubuntu16.04应该是有bug的，我换成20.04就行了。</p>
</div>
                                    <div class="mdui-divider mdui-m-b-2"></div>
                                    <div class="mdui-row-xs-2 post-fenye">
                                       
                                        <div class="mdui-col"> <div class="mdui-text-left"><a href="https://zj11224.github.io/post/2022.01.23.VS Code C++json文件配置/">VS Code C++json文件配置</a></div></div>
                                        

                                        
                                        <div class="mdui-col"><div class="mdui-text-right "><a href="https://zj11224.github.io/post/2022.01.18.VMware+Ubuntu虚拟机环境搭建教程/">VMware+Ubuntu虚拟机环境搭建教程</a></div> </div>
                                       
                                      </div>
                                   
                                    <div class="mdui-divider mdui-m-t-2 mdui-m-b-2"></div>
                                    
                                     <script src="https://zj11224.github.io/media/scripts/Valine.min.js"></script>
 <div class="comment"></div>

<script>
      new Valine({
            el: '.comment',



            path: window.location.pathname,
            pageSize: 30,
            avatar:'mm', 
       })
    </script> 
<script>
    if(window.location.hash){
        var checkExist = setInterval(function() {
           if ($(window.location.hash).length) {
              $('html, body').animate({scrollTop: $(window.location.hash).offset().top-90}, 1000);
              clearInterval(checkExist);
           }
        }, 100);
    }
</script>
                                </article>

                                    
                        </div>
                      </div>
    
                

              </div>
                    <footer class="footer mdui-m-t-5 mdui-text-center">
               <nav class="social-links">
                      <ul>
                      
                      
                           
                      
                           
                      
                           
                      
                           
                      
                           
                      
                           
                      
                           
                      
                           
                      
                           
                      
                           
                      
                           
                      
                           
                      </ul>
                    </nav>
                    <div class="copyright">
                      <p><a>Powered by Gridea</a>
<a>Theme Song by shanbufun</a> <br/> Theme <a href="https://github.com/alterfang/gridea-theme-song/" target="_blank"  title="宋"  >Song</a> by <a href="https://shanbu.fun/" target="_blank"  title="山卜方" >shanbufun</a> </p>
                  </div>
                  
              </footer>
    </body>
</html>